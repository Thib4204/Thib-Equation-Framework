<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UFO Analytics - Calculateur Score d'Anomalie Global | ThibEquation</title>
    <meta name="description" content="Calculateur scientifique du Score d'Anomalie Global (0-100). R√©concilier Ufologie et Astrophysique via analyse quantitative collaborative.">
    <link rel="icon" type="image/png" href="images/logo-thibequation-official.png">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Orbitron:wght@400;500;700;900&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
    
    <style>
        :root {
            /* Palette Symbolique Pont Ufologie-Astrophysique */
            --bg-deep: #000000;
            --bg-primary: #0a0e1a;
            --bg-card: #161b26;
            --bg-input: #1a1f2e;
            
            /* Couleurs Identitaires */
            --ufo-orange: #ff7733;
            --astro-blue: #00d9ff;
            --bridge-purple: #a78bfa;
            --neutral-gold: #ffb84d;
            
            /* Score Colors */
            --anomaly-critical: #ff4444;
            --anomaly-high: #ff7733;
            --anomaly-medium: #ffb84d;
            --anomaly-low: #00ff88;
            
            /* Text */
            --text-primary: #e8eaed;
            --text-secondary: #9aa0a6;
            --text-muted: #5f6368;
            
            /* Borders */
            --border-subtle: rgba(167, 139, 250, 0.2);
            --border-glow: rgba(167, 139, 250, 0.5);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(circle at 50% 50%, var(--bg-primary) 0%, var(--bg-deep) 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
        }
        
        /* Animated Grid */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(167, 139, 250, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(167, 139, 250, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 0;
            animation: gridMove 20s linear infinite;
        }
        
        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }
        
        /* Hero Bridge Section */
        .hero-bridge {
            text-align: center;
            margin-bottom: 50px;
            animation: fadeInDown 0.8s ease-out;
        }
        
        .bridge-title {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(24px, 3.5vw, 40px);
            font-weight: 900;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .ufo-side {
            color: var(--ufo-orange);
            text-shadow: 0 0 20px rgba(255, 119, 51, 0.6);
        }
        
        .bridge-icon {
            font-size: 32px;
            color: var(--bridge-purple);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        .astro-side {
            color: var(--astro-blue);
            text-shadow: 0 0 20px rgba(0, 217, 255, 0.6);
        }
        
        .hero-subtitle {
            font-size: 18px;
            color: var(--bridge-purple);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }
        
        .hero-description {
            font-size: 16px;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Main Grid */
        .calculator-grid {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        /* Score Display Card */
        .score-card {
            background: var(--bg-card);
            border: 2px solid var(--border-subtle);
            border-radius: 16px;
            padding: 32px;
            position: sticky;
            top: 20px;
            height: fit-content;
        }
        
        .score-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 20px;
            font-weight: 700;
            color: var(--bridge-purple);
            text-align: center;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .score-gauge {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 0 auto 24px;
        }
        
        .gauge-svg {
            transform: rotate(-90deg);
        }
        
        .gauge-bg {
            fill: none;
            stroke: var(--bg-primary);
            stroke-width: 20;
        }
        
        .gauge-fill {
            fill: none;
            stroke: var(--bridge-purple);
            stroke-width: 20;
            stroke-linecap: round;
            transition: stroke-dashoffset 1s ease-out, stroke 0.5s ease;
        }
        
        .score-value-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        
        .score-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 72px;
            font-weight: 900;
            line-height: 1;
            margin-bottom: 8px;
        }
        
        .score-label {
            font-size: 14px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .score-interpretation {
            background: var(--bg-input);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
        }
        
        .interpretation-title {
            font-weight: 700;
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .interpretation-text {
            font-size: 15px;
            color: var(--text-primary);
            line-height: 1.5;
        }
        
        .reliability-section {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--border-subtle);
        }
        
        .reliability-title {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-secondary);
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .reliability-bar {
            width: 100%;
            height: 12px;
            background: var(--bg-primary);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        
        .reliability-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--anomaly-high), var(--neutral-gold), var(--anomaly-low));
            transition: width 0.5s ease;
        }
        
        .reliability-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 18px;
            font-weight: 700;
            color: var(--neutral-gold);
            text-align: center;
        }
        
        /* Parameters Panel */
        .parameters-panel {
            background: var(--bg-card);
            border: 2px solid var(--border-subtle);
            border-radius: 16px;
            padding: 32px;
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .panel-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 22px;
            font-weight: 700;
            color: var(--bridge-purple);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .mode-toggle {
            display: flex;
            gap: 8px;
            background: var(--bg-input);
            padding: 4px;
            border-radius: 8px;
        }
        
        .mode-btn {
            padding: 8px 16px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s;
        }
        
        .mode-btn.active {
            background: var(--bridge-purple);
            color: var(--bg-deep);
        }
        
        .mode-btn:hover:not(.active) {
            color: var(--text-primary);
        }
        
        .parameters-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .param-group {
            background: var(--bg-input);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
        }
        
        .param-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .param-icon {
            color: var(--bridge-purple);
            font-size: 16px;
        }
        
        .param-input {
            width: 100%;
            padding: 12px;
            background: var(--bg-primary);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 14px;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }
        
        .param-input:focus {
            outline: none;
            border-color: var(--bridge-purple);
            box-shadow: 0 0 15px rgba(167, 139, 250, 0.3);
        }
        
        .param-helper {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 6px;
        }
        
        .range-input {
            width: 100%;
            height: 8px;
            background: var(--bg-primary);
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
        }
        
        .range-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--bridge-purple);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(167, 139, 250, 0.5);
        }
        
        .range-input::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--bridge-purple);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 0 10px rgba(167, 139, 250, 0.5);
        }
        
        .range-value {
            display: block;
            text-align: right;
            font-family: 'Orbitron', sans-serif;
            font-size: 14px;
            font-weight: 700;
            color: var(--bridge-purple);
            margin-top: 6px;
        }
        
        /* Action Buttons */
        .actions {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }
        
        .btn {
            flex: 1;
            padding: 16px 24px;
            border: none;
            border-radius: 12px;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--ufo-orange), var(--astro-blue));
            color: var(--bg-deep);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(167, 139, 250, 0.4);
        }
        
        .btn-secondary {
            background: var(--bg-input);
            color: var(--text-primary);
            border: 1px solid var(--border-subtle);
        }
        
        .btn-secondary:hover {
            border-color: var(--bridge-purple);
            color: var(--bridge-purple);
        }
        
        /* Analysis Results Section */
        .analysis-section {
            margin-top: 40px;
        }
        
        .section-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: var(--bridge-purple);
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
        }
        
        .result-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 24px;
        }
        
        .card-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
        }
        
        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .comparison-table th {
            background: var(--bg-input);
            padding: 12px;
            text-align: left;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            border-bottom: 1px solid var(--border-subtle);
        }
        
        .comparison-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 14px;
        }
        
        .comparison-table tr:hover {
            background: var(--bg-input);
        }
        
        .score-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-family: 'Orbitron', sans-serif;
            font-size: 14px;
            font-weight: 700;
        }
        
        .score-critical { background: var(--anomaly-critical); color: white; }
        .score-high { background: var(--anomaly-high); color: white; }
        .score-medium { background: var(--anomaly-medium); color: var(--bg-deep); }
        .score-low { background: var(--anomaly-low); color: var(--bg-deep); }
        
        /* Export Section */
        .export-section {
            margin-top: 40px;
            padding: 24px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
        }
        
        .export-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
        }
        
        .export-buttons {
            display: flex;
            gap: 12px;
        }
        
        .export-btn {
            padding: 12px 20px;
            background: var(--bg-input);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .export-btn:hover {
            border-color: var(--bridge-purple);
            color: var(--bridge-purple);
        }
        
        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .calculator-grid {
                grid-template-columns: 1fr;
            }
            
            .score-card {
                position: relative;
                top: 0;
            }
            
            .parameters-grid {
                grid-template-columns: 1fr;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .bridge-title {
                font-size: 20px;
                gap: 10px;
            }
            
            .bridge-icon {
                font-size: 24px;
            }
            
            .score-gauge {
                width: 220px;
                height: 220px;
            }
            
            .score-value {
                font-size: 56px;
            }
            
            .actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Hero Bridge -->
        <div class="hero-bridge">
            <div class="bridge-title">
                <span class="ufo-side">üõ∏ Ufologie</span>
                <span class="bridge-icon">üåâ</span>
                <span class="astro-side">üî¨ Astrophysique</span>
            </div>
            <p class="hero-subtitle">Calculateur Score d'Anomalie Global</p>
            <p class="hero-description">
                Analyse quantitative collaborative ‚Ä¢ Framework GKSC v5.0 ‚Ä¢ R√©conciliation scientifique
            </p>
        </div>

        <!-- Main Calculator Grid -->
        <div class="calculator-grid">
            <!-- Score Display -->
            <div class="score-card">
                <div class="score-title">
                    <i class="fas fa-chart-line"></i>
                    Score d'Anomalie Global
                </div>
                
                <div class="score-gauge">
                    <svg class="gauge-svg" width="280" height="280" viewBox="0 0 280 280">
                        <circle class="gauge-bg" cx="140" cy="140" r="120" 
                                stroke-dasharray="753.98" stroke-dashoffset="0"></circle>
                        <circle class="gauge-fill" id="gaugeFill" cx="140" cy="140" r="120" 
                                stroke-dasharray="753.98" stroke-dashoffset="753.98"></circle>
                    </svg>
                    <div class="score-value-container">
                        <div class="score-value" id="scoreValue">0</div>
                        <div class="score-label">/100</div>
                    </div>
                </div>
                
                <div class="score-interpretation">
                    <div class="interpretation-title">Interpr√©tation</div>
                    <div class="interpretation-text" id="interpretationText">
                        Remplissez les param√®tres pour calculer le score d'anomalie.
                    </div>
                </div>
                
                <div class="reliability-section">
                    <div class="reliability-title">Coefficient Fiabilit√© T√©moin</div>
                    <div class="reliability-bar">
                        <div class="reliability-fill" id="reliabilityFill" style="width: 0%"></div>
                    </div>
                    <div class="reliability-value" id="reliabilityValue">0.00</div>
                </div>
            </div>

            <!-- Parameters Panel -->
            <div class="parameters-panel">
                <div class="panel-header">
                    <div class="panel-title">
                        <i class="fas fa-sliders-h"></i>
                        Param√®tres d'Observation
                    </div>
                    <div class="mode-toggle">
                        <button class="mode-btn active" data-mode="simple">Simple</button>
                        <button class="mode-btn" data-mode="advanced">Avanc√©</button>
                    </div>
                </div>

                <div class="parameters-grid" id="parametersGrid">
                    <!-- Facteurs Physiques (40%) -->
                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-clock"></i>
                            Dur√©e de l'observation
                        </label>
                        <input type="range" class="range-input param-input" id="duration" 
                               min="0" max="10" value="0" step="0.5">
                        <span class="range-value"><span id="durationValue">0</span> points</span>
                        <div class="param-helper">&lt;10s (1pt) ‚Üí &gt;30min (10pts)</div>
                    </div>

                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-expand"></i>
                            Taille apparente
                        </label>
                        <input type="range" class="range-input param-input" id="size" 
                               min="0" max="10" value="0" step="0.5">
                        <span class="range-value"><span id="sizeValue">0</span> points</span>
                        <div class="param-helper">Petite (1pt) ‚Üí Tr√®s grande (10pts)</div>
                    </div>

                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-tachometer-alt"></i>
                            Vitesse estim√©e
                        </label>
                        <input type="range" class="range-input param-input" id="speed" 
                               min="0" max="10" value="0" step="0.5">
                        <span class="range-value"><span id="speedValue">0</span> points</span>
                        <div class="param-helper">Lente (1pt) ‚Üí Hypersonique (10pts)</div>
                    </div>

                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-route"></i>
                            Mouvement
                        </label>
                        <input type="range" class="range-input param-input" id="movement" 
                               min="0" max="10" value="0" step="0.5">
                        <span class="range-value"><span id="movementValue">0</span> points</span>
                        <div class="param-helper">Stationnaire (1pt) ‚Üí Erratique (10pts)</div>
                    </div>

                    <!-- Facteurs Contextuels (30%) -->
                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-cloud-sun"></i>
                            Conditions m√©t√©o
                        </label>
                        <select class="param-input" id="weather">
                            <option value="0">Non renseign√©</option>
                            <option value="2">Mauvaises (visibilit√© r√©duite)</option>
                            <option value="5">Moyennes</option>
                            <option value="7.5">Bonnes</option>
                            <option value="7.5">Excellentes (ciel d√©gag√©)</option>
                        </select>
                    </div>

                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-map-marker-alt"></i>
                            Pr√©cision localisation
                        </label>
                        <select class="param-input" id="location">
                            <option value="0">Non renseign√©e</option>
                            <option value="2">Ville/r√©gion</option>
                            <option value="5">Coordonn√©es approximatives</option>
                            <option value="7.5">GPS pr√©cis</option>
                        </select>
                    </div>

                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-moon"></i>
                            Moment observation
                        </label>
                        <select class="param-input" id="moment">
                            <option value="0">Non renseign√©</option>
                            <option value="2">Jour</option>
                            <option value="5">Cr√©puscule/Aube</option>
                            <option value="7.5">Nuit</option>
                        </select>
                    </div>

                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-eye"></i>
                            Visibilit√©
                        </label>
                        <input type="range" class="range-input param-input" id="visibility" 
                               min="0" max="7.5" value="0" step="0.5">
                        <span class="range-value"><span id="visibilityValue">0</span> points</span>
                        <div class="param-helper">Tr√®s limit√©e (1pt) ‚Üí Excellente (7.5pts)</div>
                    </div>

                    <!-- Documentation (30%) -->
                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-camera"></i>
                            Photos disponibles
                        </label>
                        <select class="param-input" id="photos">
                            <option value="0">Aucune</option>
                            <option value="3">Floues/mauvaise qualit√©</option>
                            <option value="6">Moyennes</option>
                            <option value="10">Haute qualit√©</option>
                        </select>
                    </div>

                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-video"></i>
                            Vid√©os disponibles
                        </label>
                        <select class="param-input" id="videos">
                            <option value="0">Aucune</option>
                            <option value="3">Floues/courtes</option>
                            <option value="6">Moyennes</option>
                            <option value="10">Haute qualit√©/longues</option>
                        </select>
                    </div>

                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-users"></i>
                            T√©moins multiples
                        </label>
                        <select class="param-input" id="witnesses">
                            <option value="0">1 t√©moin</option>
                            <option value="3">2-3 t√©moins</option>
                            <option value="6">4-10 t√©moins</option>
                            <option value="10">&gt;10 t√©moins</option>
                        </select>
                    </div>

                    <div class="param-group">
                        <label class="param-label">
                            <i class="param-icon fas fa-microphone"></i>
                            Audio disponible
                        </label>
                        <select class="param-input" id="audio">
                            <option value="0">Aucun</option>
                            <option value="5">Disponible</option>
                        </select>
                    </div>

                    <!-- Fiabilit√© T√©moin -->
                    <div class="param-group" style="grid-column: 1 / -1;">
                        <label class="param-label">
                            <i class="param-icon fas fa-user-check"></i>
                            Coefficient Fiabilit√© T√©moin (Tests Psychom√©triques)
                        </label>
                        <input type="range" class="range-input param-input" id="reliability" 
                               min="0" max="1" value="0.5" step="0.01">
                        <span class="range-value"><span id="reliabilityInput">0.50</span></span>
                        <div class="param-helper">0.0 (non fiable) ‚Üí 1.0 (tr√®s fiable) ‚Ä¢ Inclut coh√©rence, fiabilit√© perceptuelle, contexte psychologique, biais</div>
                    </div>
                </div>

                <div class="actions">
                    <button class="btn btn-primary" onclick="calculateScore()">
                        <i class="fas fa-calculator"></i>
                        Calculer le Score
                    </button>
                    <button class="btn btn-secondary" onclick="resetForm()">
                        <i class="fas fa-redo"></i>
                        R√©initialiser
                    </button>
                </div>
            </div>
        </div>

        <!-- Analysis Results -->
        <div class="analysis-section" id="analysisSection" style="display: none;">
            <div class="section-title">
                <i class="fas fa-chart-bar"></i>
                Analyse D√©taill√©e GKSC
            </div>
            
            <div class="results-grid">
                <div class="result-card">
                    <div class="card-title">
                        <i class="fas fa-chart-radar"></i>
                        R√©partition des Scores
                    </div>
                    <div class="chart-container">
                        <canvas id="gkscChart"></canvas>
                    </div>
                </div>

                <div class="result-card">
                    <div class="card-title">
                        <i class="fas fa-list-ol"></i>
                        Comparaison Objets Similaires
                    </div>
                    <table class="comparison-table" id="comparisonTable">
                        <thead>
                            <tr>
                                <th>Objet</th>
                                <th>Type</th>
                                <th>Score</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="3" style="text-align: center; padding: 20px; color: var(--text-muted);">
                                    Calculez un score pour afficher la comparaison
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Export Section -->
        <div class="export-section" id="exportSection" style="display: none;">
            <div class="export-title">Export Scientifique</div>
            <div class="export-buttons">
                <button class="export-btn" onclick="exportCSV()">
                    <i class="fas fa-file-csv"></i>
                    Export CSV
                </button>
                <button class="export-btn" onclick="exportJSON()">
                    <i class="fas fa-file-code"></i>
                    Export JSON
                </button>
                <button class="export-btn" onclick="exportMarkdown()">
                    <i class="fas fa-file-alt"></i>
                    Export Markdown
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let currentScore = 0;
        let currentReliability = 0.5;
        let currentParams = {};
        let gkscChart = null;

        // Reference database (ThibScore 0-10.0 scale, converted to 0-100 for display)
        const referenceObjects = [
            { name: "1I/'Oumuamua", type: "Interstellaire", score: 98.0 }, // ThibScore 9.80/10 - #1 (forme 10:1, acc√©l√©ration non-grav)
            { name: "3I/ATLAS", type: "Interstellaire", score: 88.8 }, // ThibScore 8.88/10 - #3 (e=6.137 RECORD, v‚àû=58 km/s)
            { name: "2I/Borisov", type: "Interstellaire", score: 95.0 }, // ThibScore 9.50/10 - #2 (m√©t√©ore INT Loeb)
            { name: "CNEOS 2014-01-08", type: "M√©t√©oro√Øde", score: 89.2 }, // ThibScore 8.92/10
            { name: "(90377) Sedna", type: "TNO", score: 87.5 }, // ThibScore 8.75/10
            { name: "C/2013 A1 Siding Spring", type: "Com√®te", score: 78.8 },
            { name: "(99942) Apophis", type: "NEA", score: 71.2 },
            { name: "67P/Churyumov-Gerasimenko", type: "Com√®te", score: 67.8 },
            { name: "(101955) Bennu", type: "NEA", score: 68.8 },
            { name: "1P/Halley", type: "Com√®te", score: 74.5 }
        ];

        // Initialize range inputs
        document.querySelectorAll('.range-input').forEach(input => {
            const valueSpan = document.getElementById(input.id + 'Value');
            if (valueSpan) {
                input.addEventListener('input', () => {
                    valueSpan.textContent = input.value;
                });
            }
        });

        // Reliability input
        document.getElementById('reliability').addEventListener('input', (e) => {
            const value = parseFloat(e.target.value);
            document.getElementById('reliabilityInput').textContent = value.toFixed(2);
            currentReliability = value;
        });

        // Calculate Score
        function calculateScore() {
            // Collect parameters
            const params = {
                // Physical (40 points)
                duration: parseFloat(document.getElementById('duration').value),
                size: parseFloat(document.getElementById('size').value),
                speed: parseFloat(document.getElementById('speed').value),
                movement: parseFloat(document.getElementById('movement').value),
                
                // Contextual (30 points)
                weather: parseFloat(document.getElementById('weather').value),
                location: parseFloat(document.getElementById('location').value),
                moment: parseFloat(document.getElementById('moment').value),
                visibility: parseFloat(document.getElementById('visibility').value),
                
                // Documentation (30 points)
                photos: parseFloat(document.getElementById('photos').value),
                videos: parseFloat(document.getElementById('videos').value),
                witnesses: parseFloat(document.getElementById('witnesses').value),
                audio: parseFloat(document.getElementById('audio').value),
                
                // Reliability
                reliability: parseFloat(document.getElementById('reliability').value)
            };

            // Calculate raw score (0-100)
            const rawScore = 
                params.duration + params.size + params.speed + params.movement +
                params.weather + params.location + params.moment + params.visibility +
                params.photos + params.videos + params.witnesses + params.audio;

            // Apply reliability coefficient
            const finalScore = Math.round(rawScore * params.reliability * 10) / 10;

            currentScore = finalScore;
            currentReliability = params.reliability;
            currentParams = params;

            // Update UI
            updateScoreDisplay(finalScore, params.reliability);
            updateInterpretation(finalScore);
            showAnalysis();
            createGKSCChart(params);
            updateComparison(finalScore);
            
            // Show export section
            document.getElementById('exportSection').style.display = 'block';
        }

        // Update score display
        function updateScoreDisplay(score, reliability) {
            const scoreElement = document.getElementById('scoreValue');
            const gaugeFill = document.getElementById('gaugeFill');
            const reliabilityFill = document.getElementById('reliabilityFill');
            const reliabilityValue = document.getElementById('reliabilityValue');

            // Animate score
            let current = 0;
            const increment = score / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= score) {
                    current = score;
                    clearInterval(timer);
                }
                scoreElement.textContent = Math.round(current);
            }, 20);

            // Update gauge
            const circumference = 753.98;
            const offset = circumference - (score / 100) * circumference;
            gaugeFill.style.strokeDashoffset = offset;

            // Color based on score
            let color;
            if (score >= 80) color = 'var(--anomaly-critical)';
            else if (score >= 60) color = 'var(--anomaly-high)';
            else if (score >= 40) color = 'var(--anomaly-medium)';
            else color = 'var(--anomaly-low)';
            
            gaugeFill.style.stroke = color;
            scoreElement.style.color = color;

            // Update reliability
            reliabilityFill.style.width = (reliability * 100) + '%';
            reliabilityValue.textContent = reliability.toFixed(2);
        }

        // Update interpretation
        function updateInterpretation(score) {
            const interpretationText = document.getElementById('interpretationText');
            let text = '';

            if (score >= 80) {
                text = '<strong>Anomalie Critique</strong> : Ce score indique des caract√©ristiques hautement inhabituelles. Investigation scientifique prioritaire recommand√©e. Potentiel objet interstellaire ou ph√©nom√®ne non identifi√©.';
            } else if (score >= 60) {
                text = '<strong>Anomalie √âlev√©e</strong> : Observation pr√©sentant plusieurs caract√©ristiques atypiques. M√©rite une analyse approfondie et une corr√©lation avec bases astronomiques (JPL, MPC, CNEOS).';
            } else if (score >= 40) {
                text = '<strong>Anomalie Mod√©r√©e</strong> : Observation avec certains √©l√©ments inhabituels. Analyse contextuelle recommand√©e pour √©carter explications conventionnelles (satellites, avions, m√©t√©ores).';
            } else {
                text = '<strong>Anomalie Faible</strong> : Observation pr√©sentant peu de caract√©ristiques inhabituelles. Forte probabilit√© d\'explication conventionnelle. Priorisation basse pour investigation.';
            }

            interpretationText.innerHTML = text;
        }

        // Show analysis section
        function showAnalysis() {
            document.getElementById('analysisSection').style.display = 'block';
            document.getElementById('analysisSection').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Create GKSC Chart
        function createGKSCChart(params) {
            const ctx = document.getElementById('gkscChart').getContext('2d');
            
            if (gkscChart) {
                gkscChart.destroy();
            }

            const physicalScore = params.duration + params.size + params.speed + params.movement;
            const contextualScore = params.weather + params.location + params.moment + params.visibility;
            const documentationScore = params.photos + params.videos + params.witnesses + params.audio;

            gkscChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: [
                        'Facteurs Physiques (40pts)',
                        'Facteurs Contextuels (30pts)',
                        'Documentation (30pts)'
                    ],
                    datasets: [{
                        label: 'Score Observation',
                        data: [physicalScore, contextualScore, documentationScore],
                        backgroundColor: 'rgba(167, 139, 250, 0.2)',
                        borderColor: 'rgba(167, 139, 250, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(167, 139, 250, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(167, 139, 250, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 40,
                            ticks: { color: '#9aa0a6', backdropColor: 'transparent' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            pointLabels: { color: '#e8eaed', font: { size: 12 } }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // Update comparison table
        function updateComparison(score) {
            const tbody = document.querySelector('#comparisonTable tbody');
            
            // Find similar objects (¬±20 points)
            const similar = referenceObjects
                .filter(obj => Math.abs(obj.score - score) <= 20)
                .sort((a, b) => Math.abs(a.score - score) - Math.abs(b.score - score))
                .slice(0, 5);

            if (similar.length === 0) {
                tbody.innerHTML = '<tr><td colspan="3" style="text-align: center; padding: 20px;">Aucun objet de r√©f√©rence dans cette plage de score</td></tr>';
                return;
            }

            tbody.innerHTML = similar.map(obj => {
                let badgeClass = '';
                if (obj.score >= 80) badgeClass = 'score-critical';
                else if (obj.score >= 60) badgeClass = 'score-high';
                else if (obj.score >= 40) badgeClass = 'score-medium';
                else badgeClass = 'score-low';

                return `
                    <tr>
                        <td><strong>${obj.name}</strong></td>
                        <td>${obj.type}</td>
                        <td><span class="score-badge ${badgeClass}">${obj.score.toFixed(1)}</span></td>
                    </tr>
                `;
            }).join('');
        }

        // Reset form
        function resetForm() {
            document.querySelectorAll('.param-input').forEach(input => {
                if (input.type === 'range') {
                    input.value = 0;
                    const valueSpan = document.getElementById(input.id + 'Value');
                    if (valueSpan) valueSpan.textContent = '0';
                } else {
                    input.selectedIndex = 0;
                }
            });

            document.getElementById('reliability').value = 0.5;
            document.getElementById('reliabilityInput').textContent = '0.50';
            
            document.getElementById('scoreValue').textContent = '0';
            document.getElementById('gaugeFill').style.strokeDashoffset = '753.98';
            document.getElementById('interpretationText').textContent = 'Remplissez les param√®tres pour calculer le score d\'anomalie.';
            
            document.getElementById('analysisSection').style.display = 'none';
            document.getElementById('exportSection').style.display = 'none';
        }

        // Export functions
        function exportCSV() {
            const csv = [
                ['Param√®tre', 'Valeur'],
                ['Score Final', currentScore],
                ['Coefficient Fiabilit√©', currentReliability],
                ['Facteurs Physiques - Dur√©e', currentParams.duration],
                ['Facteurs Physiques - Taille', currentParams.size],
                ['Facteurs Physiques - Vitesse', currentParams.speed],
                ['Facteurs Physiques - Mouvement', currentParams.movement],
                ['Facteurs Contextuels - M√©t√©o', currentParams.weather],
                ['Facteurs Contextuels - Localisation', currentParams.location],
                ['Facteurs Contextuels - Moment', currentParams.moment],
                ['Facteurs Contextuels - Visibilit√©', currentParams.visibility],
                ['Documentation - Photos', currentParams.photos],
                ['Documentation - Vid√©os', currentParams.videos],
                ['Documentation - T√©moins', currentParams.witnesses],
                ['Documentation - Audio', currentParams.audio]
            ].map(row => row.join(',')).join('\n');

            downloadFile('observation_ufo_analytics.csv', csv, 'text/csv');
        }

        function exportJSON() {
            const data = {
                timestamp: new Date().toISOString(),
                framework: "ThibEquation GKSC v5.0",
                score: {
                    final: currentScore,
                    reliability: currentReliability
                },
                parameters: currentParams
            };

            downloadFile('observation_ufo_analytics.json', JSON.stringify(data, null, 2), 'application/json');
        }

        function exportMarkdown() {
            const md = `# Rapport d'Analyse UFO Analytics

**Date**: ${new Date().toLocaleString('fr-FR')}  
**Framework**: ThibEquation GKSC v5.0

---

## Score d'Anomalie Global

**Score Final**: ${currentScore}/100  
**Coefficient Fiabilit√© T√©moin**: ${currentReliability}

## Interpr√©tation

${document.getElementById('interpretationText').textContent}

## Param√®tres D√©taill√©s

### Facteurs Physiques (40 points)
- Dur√©e: ${currentParams.duration} pts
- Taille: ${currentParams.size} pts
- Vitesse: ${currentParams.speed} pts
- Mouvement: ${currentParams.movement} pts

### Facteurs Contextuels (30 points)
- M√©t√©o: ${currentParams.weather} pts
- Localisation: ${currentParams.location} pts
- Moment: ${currentParams.moment} pts
- Visibilit√©: ${currentParams.visibility} pts

### Documentation (30 points)
- Photos: ${currentParams.photos} pts
- Vid√©os: ${currentParams.videos} pts
- T√©moins: ${currentParams.witnesses} pts
- Audio: ${currentParams.audio} pts

---

*G√©n√©r√© par ThibEquation UFO Analytics - Pont Ufologie ‚Üî Astrophysique*
`;

            downloadFile('rapport_observation_ufo.md', md, 'text/markdown');
        }

        function downloadFile(filename, content, mimeType) {
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Mode toggle (placeholder for future advanced mode)
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                if (btn.dataset.mode === 'advanced') {
                    alert('Mode Avanc√© en d√©veloppement : Framework GKSC complet avec 100+ param√®tres (Gravit√©, Kepler, Structure, Composition)');
                }
            });
        });
    </script>
</body>
</html>